(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{292:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"安装以及启停管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装以及启停管理"}},[t._v("#")]),t._v(" 安装以及启停管理")]),t._v(" "),s("h2",{attrs:{id:"jenkins-war包下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-war包下载"}},[t._v("#")]),t._v(" Jenkins War包下载")]),t._v(" "),s("p",[t._v("到"),s("a",{attrs:{href:"http://mirrors.jenkins-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方镜像网站"),s("OutboundLink")],1),t._v("下载选择适合自己系统的 war 包。Jenkins 项目产生两个发行线, 长期支持版本 (LTS) 和每周更新版本，这里选择的是最新的 "),s("a",{attrs:{href:"http://mirrors.jenkins-ci.org/war-stable/2.289.1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.289.1"),s("OutboundLink")],1),t._v(" 的 LTS 版本。Jenkins 以 WAR 文件、原生包/安装程序和 Docker 镜像分发，这里仅使用 war 包进行安装。")]),t._v(" "),s("h2",{attrs:{id:"tomcat-8-5-下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-8-5-下载"}},[t._v("#")]),t._v(" Tomcat 8.5 下载")]),t._v(" "),s("p",[t._v("这里选择的是 "),s("a",{attrs:{href:"https://mirror-hk.koddos.net/apache/tomcat/tomcat-8/v8.5.68/bin/apache-tomcat-8.5.68.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("8.5"),s("OutboundLink")],1),t._v(" 版本的 tomcat。下载后解压到 "),s("code",[t._v("/usr/local/")]),t._v(" 下，文件夹改名为 "),s("code",[t._v("tomcat-8.5")]),t._v(" 。将下载好的 war 包，放到 "),s("code",[t._v("/usr/local/tomcat-8.5/webapps/")]),t._v(" 目录下。启动 tomcat 后访问 "),s("code",[t._v("ip:8080/jenkins")]),t._v(" 端口就可以看到 "),s("code",[t._v("Jenkins")]),t._v(" 的页面。")]),t._v(" "),s("h2",{attrs:{id:"jenins-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenins-安装"}},[t._v("#")]),t._v(" Jenins 安装")]),t._v(" "),s("h3",{attrs:{id:"_1-选择-jenins-的安装目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-选择-jenins-的安装目录"}},[t._v("#")]),t._v(" 1. 选择 Jenins 的安装目录")]),t._v(" "),s("p",[s("code",[t._v("Jenkins")]),t._v(" 默认的安装目录在 "),s("code",[t._v("/root/.jenkins")]),t._v(" 下，如果不想安装在这里，可以通过修改环境变量 "),s("code",[t._v("JENKINS_HOME")]),t._v(" 来修改。在 "),s("code",[t._v("/etc/profile")]),t._v(" 文件中追加以下三行内容，然后执行 "),s("code",[t._v("source /etc/profile")]),t._v(" 。")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JENKINS_HOME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/data/jenkins\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" JENKINS_HOME\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JENKINS_HOME")]),t._v("/bin\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("添加后，启动 "),s("code",[t._v("Tomcat")]),t._v(" 服务 "),s("code",[t._v("sh /usr/loca/tomca-8.5/bin/startup.sh")]),t._v(" 。访问 "),s("code",[t._v("ip:8080/jenkins")]),t._v(" ，看到如下界面就算正常，接下来只需要到到文件 "),s("code",[t._v("/data/jenkins/secrets/initialAdminPassword")]),t._v(" 找到密码即可。"),s("code",[t._v("/data/jenkins")]),t._v(" 是上面设置的 "),s("code",[t._v("JENKINS_HOME")]),t._v(" 可以看到配置是生效的。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/jenkins%E5%88%9D%E5%A7%8B%E7%95%8C%E9%9D%A2.png",alt:"jenkins初始界面"}})]),t._v(" "),s("h3",{attrs:{id:"_2-安装插件和新建用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装插件和新建用户"}},[t._v("#")]),t._v(" 2. 安装插件和新建用户")]),t._v(" "),s("p",[t._v("输入密码后，如果网络正常，那么大概率可以正常安装插件。如果不能安装插件，那么就先跳过安装插件，等下再来处理。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins%E7%A6%BB%E7%BA%BF.png",alt:"Jenkins离线"}})]),t._v(" "),s("p",[t._v("跳过安装插件后，会来到用户创建界面，可以先建一个用户，输入账号密码即可。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7.jpg",alt:"Jenkins-第一个用户"}})]),t._v(" "),s("p",[t._v("用户创建后会自动登录，接下来就是安装插件。")]),t._v(" "),s("p",[t._v("可能由于有些网站是国外的，默认的插件安装中心特别慢。或者由于证书问题，根本无法访问插件安装中心。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-SSLException.jpg",alt:"Jenkins-SSLException"}})]),t._v(" "),s("p",[t._v("这里提供一个解决办法以及相关文件。")]),t._v(" "),s("h4",{attrs:{id:"修改插件安装中心"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改插件安装中心"}},[t._v("#")]),t._v(" 修改插件安装中心")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("找到 "),s("code",[t._v("$JENKINS_HOME/hudson.model.UpdateCenter.xml")]),t._v(" 文件，将其中的 url 标签该为 "),s("code",[t._v("http://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json")])]),t._v(" "),s("p",[t._v("修改后的内容为。然后重启 "),s("code",[t._v("Tomcat")]),t._v(" 服务。")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v("<?xml version='1.1' encoding='UTF-8'?>")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("sites")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("site")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("default"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("http://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("site")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("sites")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("重启之后，会发现可以正常搜索插件了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/jenkins-%E6%8F%92%E4%BB%B6%E4%B8%AD%E5%BF%83-1.jpg",alt:"jenkins-插件中心-1"}})]),t._v(" "),s("p",[t._v("但是安装插件会报错，报的是找不到证书的异常，那是因为 Java 发送 HTTPS 请求时，没有证书导致的，所以只需要将 HTTPS 改为 HTTP 就行了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-SSLException-1.jpg",alt:"Jenkins-SSLException-1"}})]),t._v(" "),s("p",[t._v("具体是修改 "),s("code",[t._v("/data/jenkins/updates/default.json")]),t._v(" 文件中的内容，将所有 "),s("code",[t._v("https://mirrors.tuna.tsinghua.edu.cn")]),t._v(" 修改为 "),s("code",[t._v("http://mirrors.tuna.tsinghua.edu.cn")]),t._v("。另外还有一个，将 "),s("code",[t._v("connectionCheckUrl")]),t._v(" 由 "),s("code",[t._v("http://www.google.com/")]),t._v(" 修改为 "),s("code",[t._v("http://www.baidu.com")]),t._v("。")]),t._v(" "),s("p",[t._v("这里提供一个修改过的文件，可以直接下载使用。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.lin2j.tech/blog-image/jenkins/default.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("default.json"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("替换之后，重启 "),s("code",[t._v("Tomcat")]),t._v(" 服务，然后重新试着安装，就可以了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/jenkins-%E6%8F%92%E4%BB%B6%E4%B8%AD%E5%BF%83-2.png",alt:"jenkins-插件中心-2"}})]),t._v(" "),s("p",[t._v("到这里就算安装完成了，接下来根据需要安装插件即可。")])])]),t._v(" "),s("h3",{attrs:{id:"_3-修改-jenins-的占用端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改-jenins-的占用端口"}},[t._v("#")]),t._v(" 3. 修改 Jenins 的占用端口")]),t._v(" "),s("p",[t._v("这里使用的是 "),s("code",[t._v("Tomcat")]),t._v(" ，默认占用的端口 8080。如果不想使用这个端口，可以通过修改 "),s("code",[t._v("Tomcat")]),t._v(" 的配置文件 "),s("code",[t._v("/usr/local/tomcat-8.5/conf/server.xml")]),t._v(" 改变端口。找到")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Connector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8080"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("HTTP/1.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("connectionTimeout")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("20000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("redirectPort")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8443"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("修改为 9696，或者其他你想要的端口。")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Connector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("9696"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("HTTP/1.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("connectionTimeout")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("20000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("redirectPort")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8443"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("重启 "),s("code",[t._v("Tomcat")]),t._v("，再访问 "),s("code",[t._v("ip:9696")]),t._v(" 端口，正常访问就算正常。")]),t._v(" "),s("h3",{attrs:{id:"_4-jenkins-system-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-jenkins-system-service"}},[t._v("#")]),t._v(" 4. Jenkins System Service")]),t._v(" "),s("p",[t._v("新建一个文件 "),s("code",[t._v("/lib/systemd/system/jenkins.service")]),t._v(" ，然后添加以下内容")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jenkins\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("forking\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/tomcat-8.5/bin/startup.sh\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecReload")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStop")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/tomcat-8.5/bin/shutdown.sh\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PrivateTmp")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("执行命令 "),s("code",[t._v("systemctl daemon-reload")]),t._v(" 使文件生效。")]),t._v(" "),s("p",[t._v("执行 "),s("code",[t._v("systemctl enable jenkins")]),t._v(" 启动开机自动启动 "),s("code",[t._v("Jenkins")]),t._v(" 服务。")]),t._v(" "),s("p",[t._v("接下来就可以使用 "),s("code",[t._v("systemctl start jenkins")]),t._v(" 启动 "),s("code",[t._v("Jenkins")]),t._v(" 服务，使用 "),s("code",[t._v("systemctl stop jenkins")]),t._v(" 停止 "),s("code",[t._v("Jenkins")]),t._v(" 服务。")]),t._v(" "),s("h1",{attrs:{id:"jenkins-自动部署-基于gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-自动部署-基于gitlab"}},[t._v("#")]),t._v(" Jenkins 自动部署（基于Gitlab）")]),t._v(" "),s("h2",{attrs:{id:"前置条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[t._v("#")]),t._v(" 前置条件")]),t._v(" "),s("h3",{attrs:{id:"相关插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关插件"}},[t._v("#")]),t._v(" 相关插件")]),t._v(" "),s("ol",[s("li",[s("p",[s("a",{attrs:{href:"https://plugins.jenkins.io/maven-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Maven Integration"),s("OutboundLink")],1),t._v(" ：在部署spring boot 项目的时候, 我们需要创建maven项目, 在安装了这个插件之后, 在创建项目的时候, 如果没有这个插件, 在创建项目的时候就没有 "),s("code",[t._v("构建一个maven项目")]),t._v("的选项。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-plugin-maven.jpg",alt:"Jenkins-plugin-maven"}})])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://plugins.jenkins.io/git-parameter",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git Parameter"),s("OutboundLink")],1),t._v(" ： 在后续的自动化部署中, 我们需要通过参数, 设置不同的分支, 对不同的分支进行打包, 需要这个插件的支持。")])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://plugins.jenkins.io/gitlab-hook",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitlab Hook"),s("OutboundLink")],1),t._v("：gitlab webhook 回调插件，设置好jenkins的回调url后就可以让jenkins进行自动构建。")])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://plugins.jenkins.io/gitlab-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab Plugin"),s("OutboundLink")],1),t._v(" ：远程构建的步骤里需要它，安装了之后，才会有红框里的那一个选项。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-Gitlab-Plugin.png",alt:"Jenkins-Gitlab-Plugin"}})])])]),t._v(" "),s("h3",{attrs:{id:"支持环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持环境"}},[t._v("#")]),t._v(" 支持环境")]),t._v(" "),s("ol",[s("li",[t._v("JDK 1.8 ：在服务器构建 SpringBoot 项目的时候，需要用到 jdk 的一些工具。")]),t._v(" "),s("li",[t._v("Maven：在服务器构建项目的时候，需要使用 mvn 命令下载相关依赖。")]),t._v(" "),s("li",[t._v("Git：需要通过 git clone 来下载项目的代码文件。")])]),t._v(" "),s("p",[t._v("需要在 "),s("code",[t._v("Manage Jenkins")]),t._v(" --\x3e "),s("code",[t._v("Global Tool Configuration")]),t._v(" 里面配置相关工具的位置。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E7%8E%AF%E5%A2%83%E6%94%AF%E6%8C%81.jpg",alt:"Jenkins-环境支持"}})]),t._v(" "),s("h3",{attrs:{id:"添加-gitlab-凭据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加-gitlab-凭据"}},[t._v("#")]),t._v(" 添加 Gitlab 凭据")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E6%B7%BB%E5%8A%A0%E5%87%AD%E6%8D%AE.jpg",alt:"Jenkins-添加凭据"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/jenkins-%E6%B7%BB%E5%8A%A0%E5%87%AD%E6%8D%AE0.png",alt:"jenkins-添加凭据0"}})]),t._v(" "),s("h2",{attrs:{id:"gitlab-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-示例"}},[t._v("#")]),t._v(" Gitlab 示例")]),t._v(" "),s("h3",{attrs:{id:"项目结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[t._v("#")]),t._v(" 项目结构")]),t._v(" "),s("p",[t._v("新建一个 "),s("a",{attrs:{href:"https://github.com/lin2j/jenkins-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins-demo"),s("OutboundLink")],1),t._v(" 的 SpringBoot 项目，然后上传到 Gitlab 上做版本控制（github 也上传了，需要可以自取）。这个项目使用 "),s("code",[t._v("maven-assembly-plugin")]),t._v(" 来打包，"),s("code",[t._v("bin/run.sh")]),t._v(" 目录下有一个启停脚本 "),s("code",[t._v("run.sh")]),t._v(" 可以方便控制程序。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-github-demo.jpg",alt:"Jenkins-github-demo"}})]),t._v(" "),s("h3",{attrs:{id:"新建任务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建任务"}},[t._v("#")]),t._v(" 新建任务")]),t._v(" "),s("p",[t._v("新建一个 maven 项目")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E6%96%B0%E5%BB%BA%E4%BB%BB%E5%8A%A1.jpg",alt:"Jenkins-新建任务"}})]),t._v(" "),s("h3",{attrs:{id:"源码管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码管理"}},[t._v("#")]),t._v(" 源码管理")]),t._v(" "),s("p",[t._v("填写远程仓库信息")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E6%96%B0%E5%BB%BA%E4%BB%BB%E5%8A%A1-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86.png",alt:"Jenkins-新建任务-源码管理"}})]),t._v(" "),s("h3",{attrs:{id:"构建触发器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建触发器"}},[t._v("#")]),t._v(" 构建触发器")]),t._v(" "),s("p",[t._v("这个 url 是给gitlab 的 webhook 准备的，webhook 通过这个 url 进行回调。如果直接使用这个 url 报了 403 的错误，那么可以将url 改为这个样子")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("http://USERNAME:PASSWORD@172.25.20.69:8080/jenkins/project/jenkins-demo\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("其中"),s("code",[t._v("USERNAME")]),t._v(" 是Jenkins 的登录账号，"),s("code",[t._v("PASSWORD")]),t._v(" 是密码。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E6%9E%84%E5%BB%BA%E4%BB%BB%E5%8A%A1-%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.png",alt:"Jenkins-构建任务-构建触发器"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-%E6%96%B0%E5%BB%BA%E4%BB%BB%E5%8A%A1-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86-2.png",alt:"Jenkins-新建任务-源码管理-2"}})]),t._v(" "),s("h3",{attrs:{id:"在gitlab中添加-webhook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在gitlab中添加-webhook"}},[t._v("#")]),t._v(" 在Gitlab中添加 Webhook")]),t._v(" "),s("p",[t._v("将构建触发器阶段生成的 url 和 token 填写到 gitlab 中，然后进行测试，返回200则算成功。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-gitlab-webhook.png",alt:"Jenkins-gitlab-webhook"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-gitlab-webhook-test.png",alt:"Jenkins-gitlab-webhook-test"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-gitlab-webhook-test-200.png",alt:"Jenkins-gitlab-webhook-test-200"}})]),t._v(" "),s("h3",{attrs:{id:"配置-post-build"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-post-build"}},[t._v("#")]),t._v(" 配置 Post-build")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("Add post-build step")]),t._v(" 中选择 "),s("code",[t._v("Exceute shell")]),t._v(" 选项，然后添加 shell 脚本。这里提供一下我的脚本。基本上对于我的项目结构，只需要修改 "),s("code",[t._v("MODULE")]),t._v(" 和 "),s("code",[t._v("DEPLOY_DIR")]),t._v(" 变量即可。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-Post-build.png",alt:"Jenkins-Post-build"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.lin2j.tech/blog-image/jenkins/Jenkins-Post-build-1.png",alt:"Jenkins-Post-build-1"}})]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 模块的名字")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MODULE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jenkins-demo\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署的目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DEPLOY_DIR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-zxvf")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$WORKSPACE")]),t._v("/target/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v(".tar.gz "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-C")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v("*.jar\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$WORKSPACE")]),t._v("/target/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v("*.jar "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("  /lib/systemd/system/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v(".service "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sFile")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/lib/systemd/system/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v(".service\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[Unit]"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("Description="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v('"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('After=network.target"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(' "')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('[Service]"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('Type=forking"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("ExecStart="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v('/bin/run.sh start"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('ExecReload= "')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("ExecStop="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOY_DIR")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v('/bin/run.sh stop"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('PrivateTmp=true"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(' "')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('[Install]"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sContent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('WantedBy=multi-user.target"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sContent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sFile")]),t._v("\n\n\tsystemctl daemon-reload\n\tsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\nsystemctl restart "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MODULE")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br")])]),s("h1",{attrs:{id:"结语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[t._v("#")]),t._v(" 结语")]),t._v(" "),s("p",[t._v("以上就是 Jenkins 的安装部署以及自动化部署的思路，希望能够给你提供帮助。")])])}),[],!1,null,null,null);s.default=e.exports}}]);